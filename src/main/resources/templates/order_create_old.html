<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/144f4e017a.js" crossorigin="anonymous"></script>
    <title>order</title>
</head>

<body>
    <div th:insert="fragments/navbar.html"> </div>
    <div class="container">
        <div class="jumbotron">
            <h3>New Order</h3>
            <hr/>

            <form id="orderForm">
                <div class="form-row">
                    <div class="form-group col-md-6 mr">
                        <select id="breakfast" class="form-control" aria-label="Default select example">
                        <option selected>Breakfast</option>
                        <option value="Pancake">Pancake</option>
                        <option value="Ham and Cheese Croissant">Ham and Cheese Croissant</option>
                        <option value="Plain Croissant">Plain Croissant</option>
                        <option value="Hash Browns">Hash Browns</option>
                        <option value="Sausages">Sausages</option>
                        <option value="Sausages Roll">Sausages Roll</option>
                        <option value="Corn Cereal">Corn Cereal</option>
                        <option value="Quiches">Quiches</option>
                    </select>
                        <div>
                            <input placeholder="Quantity" class="form-control" type="number" id="quantity1" name="quantity" min="1">
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <select id="salad" class="form-control" aria-label="Default select example">
                        <option selected>Salad</option>
                        <option value="Potato Salad">Potato Salad</option>
                        <option value="Macaroni">Macaroni</option>
                        <option value="Ceasar">Ceasar</option>
                        <option value="Greek">Greek</option>
                        <option value="Garden Fresh">Garden Fresh</option>
                    </select>
                        <div>
                            <input placeholder="Quantity" class="form-control" type="number" id="quantity2" name="quantity" min="1">
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <select id="pasta" class="form-control" aria-label="Default select example">
                        <option selected>Pasta</option>
                        <option value="Green Pesto">Green Pesto</option>
                        <option value="Penne">Penne</option>
                        <option value="Puttanesca">Puttanesca</option>
                        <option value="Bolognese">Bolognese</option>
                        <option value="Fettuccine">Fettuccine</option>
                        <option value="Spaghetti">Spaghetti</option>
                        <option value="Spaghetti with meatballs">Spaghetti with meatballs</option>
                        <option value="Lasagna">Lasagna</option>
                    </select>
                        <div>
                            <input placeholder="Quantity" class="form-control" type="number" id="quantity3" name="quantity" min="1">
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <select id="entrees" class="form-control" aria-label="Default select example">
                        <option selected>Entrees</option>
                        <option value="Ropa Vieja">Ropa Vieja</option>
                        <option value="Beef Brisket">Beef Brisket</option>
                        <option value="Braised Beef Stew">Braised Beef Stew</option>
                        <option value="Rose Mary Chicken">Rose Mary Chicken</option>
                        <option value="Buffalo Wings">Buffalo Wings</option>
                        <option value="Classic Pork Ribs">Classic Pork Ribs</option>
                        <option value="Baby Ribs">Baby Ribs</option>
                        <option value="Hickory Smoked Chicken">Hickory Smoked Chicken</option>
                        <option value="Bourbon Glazed Salmon">Bourbon Glazed Salmon</option>
                        <option value="Fried Trout in Tomato Sauce">Fried Trout in Tomato Sauce</option>
                        <option value="Lemon Pepper Chicken">Lemon Pepper Chicken</option>
                        <option value="Buttered Lobster">Buttered Lobster</option>
                    </select>
                        <div>
                            <input placeholder="Quantity" class="form-control" type="number" id="quantity4" name="quantity" min="1">
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <select id="beverages" class="form-control" aria-label="Default select example">
                        <option selected>Beverages</option>
                        <option value="House Blend Iced Tea">House Blend Iced Tea</option>
                        <option value="Blue Lemonade">Blue Lemonade</option>
                        <option value="Red Iced Tea">Red Iced Tea</option>
                        <option value="Red Wine">Red Wine</option>
                        <option value="White Wine">White Wine</option>
                        <option value="Coffee">Coffee</option>
                        <option value="Margarita">Margarita</option>
                        <option value="Martini">Martini</option>
                        <option value="Cosmopolitan">Cosmopolitan</option>
                        <option value="Whiskey Sour">Whiskey Sour</option>
                        <option value="Green tea">Green tea</option>
                        <option value="Fresh mint tea">Fresh mint tea</option>
                    </select>
                        <div>
                            <input placeholder="Quantity" class="form-control" type="number" id="quantity" name="quantity" min="1">
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <label for="inputTableNo">Table Number</label>
                        <input type="number" min="0" class="form-control" id="inputTableNo" name="inputTableNo" placeholder="Table No">
                    </div>

                </div>
                <hr/>
                <div class="form-group">
                    <label for="selectTable">Notes</label>
                    <input type="number" multiple class="form-control" id="selectTable" name="selectTable" placeholder="Special Daitry Order">
                </div>
                <input type="submit" class="btn btn-primary mt-1" value="Order">
            </form>
        </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script>
        $("#orderForm").submit(function(e) {
            e.preventDefault();
            let orderJsObj = {

                table: {
                    id: $("#inputTableNo").val()
                },
                dishes: [{
                        name: $('#breakfast option:selected').val(),
                        quantity: $("#quantity1").val()
                    }, {
                        name: $('#salad option:selected').val(),
                        quantity: $("#quantity2").val()
                    }, {
                        name: $('#pasta option:selected').val(),
                        quantity: $("#quantity3").val()
                    }, {
                        name: $('#entrees option:selected').val(),
                        quantity: $("#quantity4").val()
                    }

                ],
                drinkList: [{
                    name: $('#beverages option:selected').val(),
                    quantity: $("#quantity").val()
                }]
            }
            console.log(orderJsObj)
            let orderJSON = JSON.stringify(orderJsObj)
            $.ajax({
                type: "POST",
                url: "http://localhost:8080/api/order",
                data: orderJSON,
                contentType: "application/json",
                success: function(response) {

                }
            });
        });
    </script>
</body>

</html>